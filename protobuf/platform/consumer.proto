syntax = "proto3";

package platform;

option go_package = "github.com/adarko-io/platform-api/go/v4/platform";

import "google/api/annotations.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";
import "platform/shared_enums.proto";
import "google/protobuf/struct.proto";

service ConsumerService {
  // GetDevicesByAssetType returns the list of devices filtered by AssetType and AssetSubType.
  rpc Create(CreateConsumerRequest) returns (CreateConsumerResponse) {
    option (google.api.http) = {
      post: "/api/consumers"
      body: "*"
    };
  }

  rpc Get(GetConsumerRequest) returns (GetConsumerResponse) {
    option (google.api.http) = {
      get: "/api/consumers/{id}"
    };
  }

    rpc Update(UpdateConsumerRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
        put: "/api/consumers/{consumer.id}"
        body: "*"
        };
    }
    rpc Delete(DeleteConsumerRequest) returns (google.protobuf.Empty) {
        option (google.api.http) = {
        delete: "/api/consumers/{id}"
        };
    }
    rpc List(ListConsumersRequest) returns (ListConsumersResponse) {
        option (google.api.http) = {
        get: "/api/consumers"
        };
    }

}

enum ConsumerStatus {
    CONSUMER_STATUS_UNKNOWN = 0;
    CONSUMER_STATUS_ACTIVE = 1;
    CONSUMER_STATUS_INACTIVE = 2;
    CONSUMER_STATUS_TERMINATED = 3;
}

message Consumer {
    // Consumer   ID (UUID).
  string id = 1;
  // Consumer  Name
  string name = 2;
  // Consumer  Mobile Number  
  string mobile_number = 3;
  // Consumer  Mobile Country Code
  string mobile_country_code = 4;
  // Consumer  Email
  string email = 5;
  // Consumer  Address
  string address = 6;
  // Consumer  City
    string city = 7;
    // Consumer  State
    string state = 8;
    // Consumer  Country
    string country = 9;
    // Consumer  Postal Code
    string postal_code = 10;
    // Consumer  Status
    ConsumerStatus status = 11;//ACTIVE/INACTIVE/TERMINATED

    string note = 12;

    string created_by = 13;

    string updated_by = 14;
    
    // Creation timestamp
    google.protobuf.Timestamp created_at = 15;

	// Last update timestamp
	google.protobuf.Timestamp updated_at = 16; 

    uint64 consumer_number = 17;
     string tenant_id = 18; // Tenant ID (UUID) to which the connection belongs.
}

message CreateConsumerRequest {
  Consumer consumer = 1;
}

message CreateConsumerResponse {
 // Consumer   ID (UUID).
	string id = 1;
}

message GetConsumerRequest {
 // Consumer   ID (UUID).
    string id = 1;
}

message GetConsumerResponse {
  Consumer consumer = 1;
}

message UpdateConsumerRequest {
  Consumer consumer = 1;
}

message DeleteConsumerRequest {
 // Consumer   ID (UUID).
    string id = 1;
}
message ListConsumersRequest {
 // Pagination limit.
    int32 limit = 1;

    // Pagination offset.
    int32 offset = 2;

    // Tenant ID (UUID) to filter consumers.
    string tenant_id = 3;
}

message ListConsumersResponse {
  // Total number of Consumers.
	int64 total_count = 1;

	// Result-set.
	repeated Consumer result = 2;
}

