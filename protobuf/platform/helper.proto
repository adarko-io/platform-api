syntax = "proto3";

package platform;

option go_package = "github.com/adarko-io/platform-api/go/v4/platform";

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/struct.proto";
import "platform/shared_enums.proto";

// HelperService provides common utilities and metadata for the platform API.
// This includes enum definitions for UI mapping and validation.
service HelperService {
  
  // Simple helper endpoint to get all enum values for UI dropdowns.
  rpc ListEnums(google.protobuf.Empty) returns (ListEnumsHelperResponse) {
    option (google.api.http) = {
      get: "/api/common/helper"
    };
  }

  // GetRegion returns the region details for the given region for LoRaWAN.
  rpc GetRegion(GetRegionRequest) returns (google.protobuf.Value) {
    option (google.api.http) = {
      get : "/api/helper/lorawan/regions/{id}"
    };
  }

}

// Simple response for UI helper endpoint with concrete enum values.
message ListEnumsHelperResponse {
  // LoRaWAN enums.
  google.protobuf.Value lorawan = 1;

  // Location sources.
  repeated LocationSource location_sources = 2;

  // Device types.
  repeated DeviceType device_types = 3;

  // Inventory statuses.
  repeated InventoryStatus inventory_status = 4;

  // Downlink modes.
  repeated DownlinkMode downlink_modes = 5;

  // Cellular network types.
  repeated AssetType asset_type = 6;

  // Transport protocols.
  repeated TransportProtocol transport_protocols = 7;

  // Aggregation types.
  repeated AggregationType aggregation_types = 8;

  // Time intervals.
  repeated TimeInterval time_intervals = 9;

  // consumer statuses.
  repeated ConsumerStatus consumer_status = 10;

  // connection types.
  repeated ConnectionType connection_type = 11;

  // connection categories.
  repeated ConnectionCategory connection_category = 12;

  // connection statuses.
  repeated ConnectionStatus connection_status = 13;
  
  // meter statuses.
  repeated MeterStatus meter_status = 14;

  //Field types for dynamic attributes
  repeated FieldType field_types = 15;

  //Timezone types
  repeated TimeZone time_zones = 16;
  
}


message GetRegionRequest {
  // Region ID.
  string id = 1;
}

// message GetRegionResponse {
//    // LoRaWAN region configuration.
//   google.protobuf.Value region = 1;
// }